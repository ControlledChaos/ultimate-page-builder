<template>
    <div id="upb-sidebar-header">
        <ul>
            <li class="btn-close"><a href="#" :title="l10n.close"><i class="mdi mdi-window-close"></i></a></li>
            <ul class="tab-wrapper">
                <upb-sidebar-header-item v-for="item in model" @changedActive="removeActive()" :model="item"></upb-sidebar-header-item>
            </ul>
            <li :class="[{ active: isSaved() }, 'btn-save']"><a href="#" :title="l10n.save"><i class="mdi mdi-content-save-all"></i></a></li>
        </ul>
    </div>
</template>
<style src="../scss/upb-sidebar-header.scss" lang="sass"></style>
<script>

    import Vue from 'vue';
    import UPBSidebarHeaderItem from './UPBSidebarHeaderItem.vue'
    import store from '../store'

    Vue.component('upb-sidebar-header-item', UPBSidebarHeaderItem);

    export default {
        name  : 'upb-sidebar-header',
        props : ['index', 'model'],

        data(){
            return {
                l10n : store.l10n
            }
        },

        methods : {

            removeActive(){
                this.model.map(function (item) {
                    item.active = false
                });
            },

            isSaved(){
                return !store.isSaved();
            }
        }
    }
</script>
